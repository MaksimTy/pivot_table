 ## Задача - сводная таблица (Pivot table) для датасета "Налоги РФ"
 [reference to conditions](https://github.com/rcslabs/test202001#reference-to-conditions)
 
 Сервис предоставляет API для отображения датасета в виде двухмерной сводной таблицы.
 
 #### Описание колонок таблицы source_data
 Файл БД resources/data.sqlite содержит единственную таблицу source_data (датасет) с 10К записей по налогам РФ за 2010-2015 годы. 
 
    a - группа налога
    b - подгруппа налога
    c - округ РФ
    d - регион РФ
    y - год
    v - значение
 
 ### Серверная часть
 Принимает запросы клиента по HTTP API, выполняет запросы в БД и отдает результат в виде JSON.
 
 Вызов API GET принимает два обязательных параметра и один необязательный:
 
    обязательные:
       row - название столбца БД для группировки таблицы по горизонтали
       col - название столбца БД для группировки таблицы по вертикали
    необязательный:
       aggr - функция аггрегации по полю 'v'. Аггрегирующая функция по умолчанию - 'sum'.
 Каждый обязательный параметр может принимать значения a,b,c,d,y.
 Доступны следующие функции аггрегации:
 
 | Параметр | Описание |
 | --- | ------------ |
 | sum | Сумма значений |
 | min | Минимальное значение выражения из выборки |
 | max | Максимальное значение выражения из выборки |
 | count | Число записей, со значением не Null |
 | avg | Среднее значение |
 
  ```
 http://host:port/path/?row=b&col=d
 http://host:port/path/?row=d&col=y&aggr=count
 ```
 
 В результате запроса в БД sqlite возвращается массив JSON, где каждый элемент - результат агрегации по указанным столбцам таблицы.


```json
[
  {"row":"Акцизы по подакцизным товарам, ввозимым в РФ","col":"Алтайский край","val":131991.0},
  {"row":"Акцизы по подакцизным товарам, ввозимым в РФ","col":"Амурская область","val":0.0},
  {"row":"Акцизы по подакцизным товарам, ввозимым в РФ","col":"Архангельская область","val":3352.0},
  {"row":"Акцизы по подакцизным товарам, ввозимым в РФ","col":"Астраханская область","val":141.0},
  {"row":"Акцизы по подакцизным товарам, ввозимым в РФ","col":"Белгородская область","val":17797.0},
  {"row":"Акцизы по подакцизным товарам, ввозимым в РФ","col":"Кабардино-Балкарская Республика","val":335.0}
] 
```

### Сборка и запуск проекта

##### Потребуется:
    - установленный Maven
    
    1. Загрузите и распакуйте архив с кодом проекта, либо клонируйте из репозитория с помощью Git: git clone https://github.com/MaksimTy/pivot_table.git;
    2. Перейдите в каталог pivot_table;
    3. Запустите задачу 'mvn package';
    4. WAR-файл из директории taret разместить на сервере.
 